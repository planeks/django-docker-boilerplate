# ============================================================================
# Basic Configuration
# DOMAIN_NAME=example.com
# SSL_EMAIL=admin@example.com
# PROJECT_NAME=django_app
# ============================================================================
DOMAIN_NAME=
SSL_EMAIL=
PROJECT_NAME=django_app

# Database Password
DB_PASSWORD=$(openssl rand -base64 32 | tr -d '=+/')

# ============================================================================
# Git Repository Configuration (Required for app deployment)
# ============================================================================
# For private repositories, Ansible will generate a deploy key
# Add the generated public key to your repository's deploy keys
# GIT_REPO_URL = git@github.com:youruser/yourrepo.git
GIT_REPO_URL=
GIT_BRANCH=main

# ============================================================================
# GitHub Actions Integration
# ============================================================================
# OPTIONAL: If not provided, the provision script will automatically:
#   - Generate a new SSH key pair at ~/.ssh/github_actions (if it doesn't exist)
#   - Use existing key if found at ~/.ssh/github_actions.pub
#   - Show instructions for adding the private key to GitHub Secrets
#
# To manually specify a key, uncomment and add the PUBLIC key:
# GITHUB_ACTIONS_SSH_KEY="ssh-ed25519 AAAA... github-actions"
#
# After provisioning, add the PRIVATE key to GitHub Secrets:
#   Repository Settings > Secrets and variables > Actions
#   Secret name: PROD_SSH_KEY
#   Secret value: contents of ~/.ssh/github_actions (private key)

# ============================================================================
# Django Admin User (for initial setup)
# ============================================================================
DJANGO_ADMIN_USER=
DJANGO_ADMIN_PASSWORD=$(openssl rand -base64 32 | tr -d '=+/')
DJANGO_ADMIN_EMAIL=
DJANGO_LOG_LEVEL=INFO

# ============================================================================
# Optional: Application Secrets
# If not set, .env file will contain placeholders for manual configuration
# ============================================================================
DJANGO_SECRET_KEY=$(python3 -c 'import secrets; print(secrets.token_urlsafe(50))' 2>/dev/null || openssl rand -base64 50)

# Email Configuration
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_USER=noreply@example.com
# EMAIL_PASSWORD=email_password

# Sentry Error Tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Celery Flower (Task Monitor)
# CELERY_FLOWER_USER=flower
# CELERY_FLOWER_PASSWORD=flower_password

# Caddy Web Server Password (generate hash with: caddy hash-password)
# CADDY_PASSWORD=$2a$14$hash...

# Frontend Dev Server
# VITE_DEV_SERVER_HOST=localhost

# ============================================================================
# Cloud Provider API Keys
# ============================================================================

# AWS Configuration (if using AWS)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# DigitalOcean Configuration (if using DigitalOcean)
# Get your API token from: https://cloud.digitalocean.com/account/api/tokens
# Required for dynamic inventory to discover droplets
# DO_API_TOKEN=dop_v1_your_api_token_here

# ============================================================================
# Ansible Connection Configuration
# ============================================================================
# ANSIBLE_REMOTE_USER: User for SSH connection (who Ansible connects as)
#   - Use 'root' if connecting as root initially
#   - Use 'ubuntu' for AWS EC2 instances
#   - Use 'admin' for Google Cloud instances
#   - Use 'core' for CoreOS instances
# Default: ubuntu
ANSIBLE_REMOTE_USER=ubuntu

# APP_USER: Application user on the server (who owns application files)
#   - This is the non-root user that will own /home/{user}/projects
#   - Can be same as ANSIBLE_REMOTE_USER (e.g., 'ubuntu') or different (e.g., 'appuser')
#   - If connecting as root, you might want a separate app user like 'appuser'
# Default: ubuntu
APP_USER=ubuntu

# Common scenarios:
# - AWS EC2: ANSIBLE_REMOTE_USER=ubuntu, APP_USER=ubuntu (same user)
# - Root access: ANSIBLE_REMOTE_USER=root, APP_USER=appuser (separate users)
# - DigitalOcean: ANSIBLE_REMOTE_USER=root, APP_USER=ubuntu (separate users)

# ============================================================================
# Deployment Flags
# ============================================================================
# Set to 'true' to deploy application during provisioning
# DEPLOY_APP=false

# ============================================================================
# Example Usage
# ============================================================================
# 1. Copy this file: cp .env.ansible.example .env.ansible
# 2. Edit .env.ansible with your values
# 3. Source the file: source .env.ansible
# 4. Run provisioning: ./scripts/provision-server.sh aws production 192.168.1.100
